<html>
<head>
  <title>PyQt5知识点</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/306387 (zh-CN, DDL); Windows/10.0.0 (Win64);"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="826"/>
<h1>PyQt5知识点</h1>

<div>
<span><div><a href="PyQt5知识点_files/4.py"><img src="PyQt5知识点_files/08860d383e121e35a0a5373ece87d412.png" alt="4.py"></a><a href="PyQt5知识点_files/1.py"><img src="PyQt5知识点_files/2fa965c0ea6e1f3e8e6b3075274d4570.png" alt="1.py"></a><a href="PyQt5知识点_files/2.py"><img src="PyQt5知识点_files/a01201e108874997ba90d096c597313e.png" alt="2.py"></a></div><div style="text-align: center"><span style="color: rgb(255, 0, 0);"><span style="font-size: 32px;">PyQt5知识点及窗口中的表格的知识点</span></span></div><div style="text-align: center">#coding:utf-8</div><div style="text-align: center">#QtWidgets所有控制模块包</div><div style="text-align: center">#引入PyQt5模块中MainWindow模块</div><div style="text-align: center">#QApplication应用程序包</div><div style="text-align: center">from PyQt5.QtWidgets import QMainWindow,QApplication</div><div style="text-align: center">#PyQt5.QtWidgets相当于文件夹，QMainWindow,QApplication相当于类，她们中有很多函数，可以通过类，创建对象，由对象调用。</div><div style="text-align: center"># 引入sys库</div><div style="text-align: center">import sys</div><div style="text-align: center">#sys.argv获取当前文件名称，并用列表返回</div><div style="text-align: center"># 创建应用程序对象，把当前文件名称作为参数传递</div><div style="text-align: center">app = QApplication(sys.argv)</div><div style="text-align: center"># 创建window窗口</div><div style="text-align: center">window = QMainWindow()# 设置当前窗口的大小</div><div style="text-align: center">window.resize(600,400)</div><div style="text-align: center"># 移动窗口，不过不设置移动，则默认在屏幕中间显示</div><div style="text-align: center"># x,y轴坐标：x越往右越大，y越往下越大</div><div style="text-align: center">window.move(100,100)</div><div style="text-align: center"># 设置当前窗口的名称</div><div style="text-align: center">window.setWindowTitle('我的第一个pyqt程序')</div><div style="text-align: center"># 引入QIcon模块</div><div style="text-align: center">from PyQt5.QtGui import *</div><div style="text-align: center"># 创建icon图标对象</div><div style="text-align: center">icon = QIcon('1.png')</div><div style="text-align: center"># 设置当前窗口的图标</div><div style="text-align: center">window.setWindowIcon(icon)</div><div style="text-align: center"># 创建QPalette调色板对象</div><div style="text-align: center">palette =  QPalette()</div><div style="text-align: center"># 设置调色板颜色</div><div style="text-align: center"># 1.要设置的对象的某个颜色属性</div><div style="text-align: center"># 2.QColor要设置的颜色值 RGB(红绿蓝) 0~255</div><div style="text-align: center"> palette.setColor(window.backgroundRole(),QColor(0,0,0))</div><div style="text-align: center"># 设置背景图片</div><div style="text-align: center">palette.setBrush(window.backgroundRole(),QBrush(QPixmap('icon.png')))</div><div style="text-align: center"># 设置当前窗口的背景颜色</div><div style="text-align: center">window.setPalette(palette)</div><div style="text-align: center"># 展示窗口</div><div style="text-align: center">window.show()</div><div style="text-align: center"># 执行应用程序</div><div style="text-align: center">app.exec_()</div><div style="text-align: center"># 当程序退出时，结束该程序进程</div><div style="text-align: center">sys.exit(app.exec_())</div><div style="text-align: center">#加警告框，</div><div style="text-align: center">from PyQt5.QtWidgets import QMessageBox</div><div style="text-align: center"># 1.要给谁添加这个警告框</div><div style="text-align: center"># 2.警告框的标题</div><div style="text-align: center"># 3.警告内容</div><div style="text-align: center"># 4.按钮选项Yes\No按钮</div><div style="text-align: center"># 5.默认选择的选项(不填该参数则默认选择Yes)</div><div style="text-align: center">box=QMessageBox.question(self,'警告！','请填写完信息后提交查询！！',QMessageBox.Yes|QMessageBox.No,QMessageBox.Yes)</div><div style="text-align: center">加载UI文件，创建界面</div><div style="text-align: center">from PyQt5 import uic</div><div style="text-align: center"> self=uic.loadUi('text_1.ui',self)</div><div style="text-align: center"> conn=sqlite3.connect('database.db') == with sqlite3.connect('database.db') as conn:</div><div style="text-align: center"> # 省去写关闭数据库文件的操作,同时游标也关闭了</div><div style="text-align: center"> # execute()执行函数，本身就自动创建了游标，不用创建游标</div><div style="text-align: center"> cursor.execute()=conn.execute()</div><div style="text-align: center"><br/></div><div style="text-align: center"><br/></div><div style="text-align: center"><br/></div><div style="text-align: center"><br/></div><div style="text-align: center">#coding:utf-8</div><div style="text-align: center"># import sys</div><div style="text-align: center"># print sys.argv</div><div style="text-align: center"># # 运行结果['2.py']</div><div style="text-align: center">from PyQt5.QtWidgets import QMainWindow,QApplication</div><div style="text-align: center"># uic加载ui文件</div><div style="text-align: center">from PyQt5 import uic</div><div style="text-align: center">import sys</div><div style="text-align: center"># 定义函数，点击按钮时，执行该函数</div><div style="text-align: center">def text():</div><div style="text-align: center">    print &quot;点我干啥&quot;</div><div style="text-align: center"># 创建app对象</div><div style="text-align: center">app = QApplication(sys.argv)</div><div style="text-align: center"># 加载test.ui文件</div><div style="text-align: center">window = uic.loadUi('test.ui')</div><div style="text-align: center"># 展示窗口</div><div style="text-align: center">window.show()</div><div style="text-align: center"># 通过window找到pushButton，点击pushButton执行test函数</div><div style="text-align: center">window.pushButton.clicked.connect(test)</div><div style="text-align: center"># 执行app，退出时结束进程</div><div style="text-align: center">sys.exit(app.exec_())</div><div style="text-align: center"><br/></div><div style="text-align: center"><br/></div><div style="text-align: center">#coding:utf-8</div><div style="text-align: center">from PyQt5.QtWidgets import QApplication,QMainWindow</div><div style="text-align: center">from PyQt5 import uic</div><div style="text-align: center">import sys</div><div style="text-align: center">from almost import *</div><div style="text-align: center">class Manager(QMainWindow):</div><div style="text-align: center">    &quot;&quot;&quot;任务管理器&quot;&quot;&quot;</div><div style="text-align: center">    def __init__(self):       </div><div style="text-align: center">        QMainWindow.__init__(self)</div><div style="text-align: center">        self=uic.loadUi('test_12.ui',self)</div><div style="text-align: center">    def open_calc(self):</div><div style="text-align: center">        global calc_face</div><div style="text-align: center">        calc_face=MyWindow()</div><div style="text-align: center">        calc_face.show()</div><div style="text-align: center"><br/></div><div style="text-align: center">if __name__=='__main__':</div><div style="text-align: center">    app=QApplication(sys.argv)</div><div style="text-align: center">    m=Manager()</div><div style="text-align: center">    m.show()</div><div style="text-align: center">    calc_face=None</div><div style="text-align: center">    sys.exit(app.exec_())</div><div style="text-align: center"><br/></div><div style="text-align: center"><br/></div><div style="text-align: center">#coding:utf-8</div><div style="text-align: center"><br/></div><div style="text-align: center">from PyQt5.QtWidgets import *</div><div style="text-align: center">from PyQt5.QtGui import *</div><div style="text-align: center"># Qt 枚举</div><div style="text-align: center">from PyQt5.QtCore import Qt</div><div style="text-align: center">import sys</div><div style="text-align: center"># QDialog 对话窗口的基类</div><div style="text-align: center">class MyTable(QDialog):</div><div style="text-align: center">    &quot;&quot;&quot;人员信息表&quot;&quot;&quot;</div><div style="text-align: center">    def __init__(self, list_arg=None):</div><div style="text-align: center">        QDialog.__init__(self)</div><div style="text-align: center">        self.list_arg = list_arg</div><div style="text-align: center">        # 设置当前窗口标题</div><div style="text-align: center">        self.setWindowTitle('人员信息表')</div><div style="text-align: center">        # 设置当前窗口图标</div><div style="text-align: center">        self.setWindowIcon(QIcon('logo.png'))</div><div style="text-align: center">        # 设置当前窗口大小</div><div style="text-align: center">        self.resize(640,300)</div><div style="text-align: center">        # 设置当前窗口最大大小</div><div style="text-align: center">        self.setMaximumSize(640,300)</div><div style="text-align: center">        # 设置当前窗口最小大小</div><div style="text-align: center">        self.setMinimumSize(640,300)</div><div style="text-align: center">        # 设置当前窗口按钮选项，只有关闭按钮</div><div style="text-align: center">        self.setWindowFlags(Qt.WindowCloseButtonHint)</div><div style="text-align: center"><br/></div><div style="text-align: center">        # 建立表格的model，设置表格显示的行数\列数</div><div style="text-align: center">        self.model = QStandardItemModel(len(list_arg),6)</div><div style="text-align: center">        # 设置表格表头</div><div style="text-align: center">        self.model.setHorizontalHeaderLabels(['编号','姓名','年龄','性别','出生日期','联系方式'])</div><div style="text-align: center">        for x in xrange(len(list_arg)):</div><div style="text-align: center">            # 先取出小元组</div><div style="text-align: center">            tuple_1 = list_arg[x]</div><div style="text-align: center">            for j in xrange(0,6):</div><div style="text-align: center">                # 创建单元格</div><div style="text-align: center">                item = QStandardItem('%s'%tuple_1[j])</div><div style="text-align: center">                # 设置单元格居中</div><div style="text-align: center">                item.setTextAlignment(Qt.AlignCenter)</div><div style="text-align: center">                #  填充表格中的单元格</div><div style="text-align: center">                # 1.行号 2.列号 3.填充单元格对象</div><div style="text-align: center">                self.model.setItem(x,j,item)</div><div style="text-align: center"><br/></div><div style="text-align: center">        # 创建tableView表格对象</div><div style="text-align: center">        self.tableView = QTableView()</div><div style="text-align: center">        # 设置表格的model</div><div style="text-align: center">        self.tableView.setModel(self.model)</div><div style="text-align: center">        # 设置表格不可编辑</div><div style="text-align: center">        self.tableView.setEditTriggers(QAbstractItemView.NoEditTriggers)</div><div style="text-align: center">        # 创建VBoxLayout对象</div><div style="text-align: center">        layout  = QVBoxLayout()</div><div style="text-align: center">        # 把表格添加到layout对象中</div><div style="text-align: center">        layout.addWidget(self.tableView)</div><div style="text-align: center">        # 把设置当前窗口的布局</div><div style="text-align: center">        self.setLayout(layout)</div><div style="text-align: center"><br/></div><div style="text-align: center">if __name__ == '__main__':</div><div style="text-align: center">    app = QApplication(sys.argv)</div><div style="text-align: center">    # 数据源</div><div style="text-align: center">    list_1 = [(31001,'张三',22,'女','20170310','13243255555'),(31002,'李四',33,'女','20170310','13243255555'),(31003,'王五',22,'女','20170310','13243255555'),(31004,'赵六',22,'女','20170310','13243255555'),(31005,'田七',22,'女','20170310','13243255555'),(31006,'粥吧',22,'女','20170310','13243255555'),(31007,'九妹',22,'女','20170310','13243255555')]</div><div style="text-align: center"><br/></div><div style="text-align: center"><br/></div><div style="text-align: center">    my_table = MyTable(list_1)</div><div style="text-align: center">    my_table.show()</div><div style="text-align: center">    sys.exit(app.exec_())</div><div style="text-align: center"> </div></span>
</div></body></html> 