<html>
<head>
  <title>xrange和range的区别</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/306387 (zh-CN, DDL); Windows/10.0.0 (Win64);"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="767"/>
<h1>xrange和range的区别</h1>

<div>
<span><ul><li>所以xrange做循环的性能比range好，尤其是返回很大的时候。尽量用xrange吧，除非你是要返回一个列表。</li></ul><div><p>range 前面小节已经说明了，range([start,] stop[, step])，根据start与stop指定的范围以及step设定的步长，生成一个序列。</p><p>比如：</p><div><a href="http://www.nowamagic.net/academy/detail/1302446#viewSource" style="width: 16px; height: 16px;" title="view source">view source</a><a href="http://www.nowamagic.net/academy/detail/1302446#printSource" style="width: 16px; height: 16px;" title="print">print</a><a href="http://www.nowamagic.net/academy/detail/1302446#about" style="width: 16px; height: 16px;" title="?">?</a></div><div><table><tbody><tr><td><code>1</code></td><td><code>&gt;&gt;&gt;</code> <code>range</code><code>(</code><code>5</code><code>)</code></td></tr></tbody></table></div><div><table><tbody><tr><td><code>2</code></td><td><code>[</code><code>0</code><code>,</code> <code>1</code><code>,</code> <code>2</code><code>,</code> <code>3</code><code>,</code> <code>4</code><code>]</code></td></tr></tbody></table></div><div><table><tbody><tr><td><code>3</code></td><td><code>&gt;&gt;&gt;</code> <code>range</code><code>(</code><code>1</code><code>,</code><code>5</code><code>)</code></td></tr></tbody></table></div><div><table><tbody><tr><td><code>4</code></td><td><code>[</code><code>1</code><code>,</code> <code>2</code><code>,</code> <code>3</code><code>,</code> <code>4</code><code>]</code></td></tr></tbody></table></div><div><table><tbody><tr><td><code>5</code></td><td><code>&gt;&gt;&gt;</code> <code>range</code><code>(</code><code>0</code><code>,</code><code>6</code><code>,</code><code>2</code><code>)</code></td></tr></tbody></table></div><div><table><tbody><tr><td><code>6</code></td><td><code>[</code><code>0</code><code>,</code> <code>2</code><code>,</code> <code>4</code><code>]</code></td></tr></tbody></table></div><p><a href="http://www.nowamagic.net/academy/tag/xrange" target="_blank">xrange</a> 用法与 range 完全相同，所不同的是生成的不是一个list对象，而是一个生成器。</p><div><table><tbody><tr><td><code>01</code></td><td><code>&gt;&gt;&gt;</code> <code>xrange</code><code>(</code><code>5</code><code>)</code></td></tr></tbody></table></div><div><table><tbody><tr><td><code>02</code></td><td><code>xrange</code><code>(</code><code>5</code><code>)</code></td></tr></tbody></table></div><div><table><tbody><tr><td><code>03</code></td><td><code>&gt;&gt;&gt;</code> <code>list</code><code>(</code><code>xrange</code><code>(</code><code>5</code><code>))</code></td></tr></tbody></table></div><div><table><tbody><tr><td><code>04</code></td><td><code>[</code><code>0</code><code>,</code> <code>1</code><code>,</code> <code>2</code><code>,</code> <code>3</code><code>,</code> <code>4</code><code>]</code></td></tr></tbody></table></div><div><table><tbody><tr><td><code>05</code></td><td><code>&gt;&gt;&gt;</code> <code>xrange</code><code>(</code><code>1</code><code>,</code><code>5</code><code>)</code></td></tr></tbody></table></div><div><table><tbody><tr><td><code>06</code></td><td><code>xrange</code><code>(</code><code>1</code><code>,</code> <code>5</code><code>)</code></td></tr></tbody></table></div><div><table><tbody><tr><td><code>07</code></td><td><code>&gt;&gt;&gt;</code> <code>list</code><code>(</code><code>xrange</code><code>(</code><code>1</code><code>,</code><code>5</code><code>))</code></td></tr></tbody></table></div><div><table><tbody><tr><td><code>08</code></td><td><code>[</code><code>1</code><code>,</code> <code>2</code><code>,</code> <code>3</code><code>,</code> <code>4</code><code>]</code></td></tr></tbody></table></div><div><table><tbody><tr><td><code>09</code></td><td><code>&gt;&gt;&gt;</code> <code>xrange</code><code>(</code><code>0</code><code>,</code><code>6</code><code>,</code><code>2</code><code>)</code></td></tr></tbody></table></div><div><table><tbody><tr><td><code>10</code></td><td><code>xrange</code><code>(</code><code>0</code><code>,</code> <code>6</code><code>,</code> <code>2</code><code>)</code></td></tr></tbody></table></div><div><table><tbody><tr><td><code>11</code></td><td><code>&gt;&gt;&gt;</code> <code>list</code><code>(</code><code>xrange</code><code>(</code><code>0</code><code>,</code><code>6</code><code>,</code><code>2</code><code>))</code></td></tr></tbody></table></div><div><table><tbody><tr><td><code>12</code></td><td><code>[</code><code>0</code><code>,</code> <code>2</code><code>,</code> <code>4</code><code>]</code></td></tr></tbody></table></div><p>由上面的示例可以知道：要生成很大的数字序列的时候，用xrange会比range性能优很多，因为不需要一上来就开辟一块很大的内存空间。</p><p>xrange 和 <a href="http://www.nowamagic.net/academy/tag/range" target="_blank">range</a> 这两个基本上都是在循环的时候用。</p><div><table><tbody><tr><td><code>1</code></td><td><code>for</code> <code>i</code> <code>in</code> <code>range</code><code>(</code><code>0</code><code>,</code> <code>100</code><code>):</code></td></tr></tbody></table></div><div><table><tbody><tr><td><code>2</code></td><td><code>    </code><code>print</code> <code>i</code></td></tr></tbody></table></div><div><table><tbody><tr><td><code>3</code></td><td> </td></tr></tbody></table></div><div><table><tbody><tr><td><code>4</code></td><td><code>for</code> <code>i</code> <code>in</code> <code>xrange</code><code>(</code><code>0</code><code>,</code> <code>100</code><code>):</code></td></tr></tbody></table></div><div><table><tbody><tr><td><code>5</code></td><td><code>    </code><code>print</code> <code>i</code></td></tr></tbody></table></div><p>这两个输出的结果都是一样的，实际上有很多不同，range会直接生成一个list对象：</p><div><table><tbody><tr><td><code>1</code></td><td><code>a</code> <code>=</code> <code>range</code><code>(</code><code>0</code><code>,</code><code>100</code><code>)</code></td></tr></tbody></table></div><div><table><tbody><tr><td><code>2</code></td><td><code>print</code> <code>type</code><code>(a)</code></td></tr></tbody></table></div><div><table><tbody><tr><td><code>3</code></td><td><code>print</code> <code>a</code></td></tr></tbody></table></div><div><table><tbody><tr><td><code>4</code></td><td><code>print</code> <code>a[</code><code>0</code><code>], a[</code><code>1</code><code>]</code></td></tr></tbody></table></div><p>输出结果：</p><div><table><tbody><tr><td><code>1</code></td><td><code>&lt;</code><code>type</code> <code>'list'</code><code>&gt;</code></td></tr></tbody></table></div><div><table><tbody><tr><td><code>2</code></td><td><code>[</code><code>0</code><code>,</code> <code>1</code><code>,</code> <code>2</code><code>,</code> <code>3</code><code>,</code> <code>4</code><code>,</code> <code>5</code><code>,</code> <code>6</code><code>,</code> <code>7</code><code>,</code> <code>8</code><code>,</code> <code>9</code><code>,</code> <code>10</code><code>,</code> <code>11</code><code>,</code> <code>12</code><code>,</code> <code>13</code><code>,</code> <code>14</code><code>,</code> <code>15</code><code>,</code> <code>16</code><code>,</code> <code>17</code><code>,</code> <code>18</code><code>,</code> <code>19</code><code>,</code> <code>20</code><code>,</code> <code>21</code><code>,</code> <code>22</code><code>,</code> <code>23</code><code>,</code> <code>24</code><code>,</code> <code>25</code><code>,</code> <code>26</code><code>,</code> <code>27</code><code>,</code> <code>28</code><code>,</code> <code>29</code><code>,</code> <code>30</code><code>,</code> <code>31</code><code>,</code> <code>32</code><code>,</code> <code>33</code><code>,</code> <code>34</code><code>,</code> <code>35</code><code>,</code> <code>36</code><code>,</code> <code>37</code><code>,</code> <code>38</code><code>,</code> <code>39</code><code>,</code> <code>40</code><code>,</code> <code>41</code><code>,</code> <code>42</code><code>,</code> <code>43</code><code>,</code> <code>44</code><code>,</code> <code>45</code><code>,</code> <code>46</code><code>,</code> <code>47</code><code>,</code> <code>48</code><code>,</code> <code>49</code><code>,</code> <code>50</code><code>,</code> <code>51</code><code>,</code> <code>52</code><code>,</code> <code>53</code><code>,</code> <code>54</code><code>,</code> <code>55</code><code>,</code> <code>56</code><code>,</code> <code>57</code><code>,</code> <code>58</code><code>,</code> <code>59</code><code>,</code> <code>60</code><code>,</code> <code>61</code><code>,</code> <code>62</code><code>,</code> <code>63</code><code>,</code> <code>64</code><code>,</code> <code>65</code><code>,</code> <code>66</code><code>,</code> <code>67</code><code>,</code> <code>68</code><code>,</code> <code>69</code><code>,</code> <code>70</code><code>,</code> <code>71</code><code>,</code> <code>72</code><code>,</code> <code>73</code><code>,</code> <code>74</code><code>,</code> <code>75</code><code>,</code> <code>76</code><code>,</code> <code>77</code><code>,</code> <code>78</code><code>,</code> <code>79</code><code>,</code> <code>80</code><code>,</code> <code>81</code><code>,</code> <code>82</code><code>,</code> <code>83</code><code>,</code> <code>84</code><code>,</code> <code>85</code><code>,</code> <code>86</code><code>,</code> <code>87</code><code>,</code> <code>88</code><code>,</code> <code>89</code><code>,</code> <code>90</code><code>,</code> <code>91</code><code>,</code> <code>92</code><code>,</code> <code>93</code><code>,</code> <code>94</code><code>,</code> <code>95</code><code>,</code> <code>96</code><code>,</code> <code>97</code><code>,</code> <code>98</code><code>,</code> <code>99</code><code>]</code></td></tr></tbody></table></div><div><table><tbody><tr><td><code>3</code></td><td><code>0</code> <code>1</code></td></tr></tbody></table></div><p>而xrange则不会直接生成一个list，而是每次调用返回其中的一个值：</p><div><table><tbody><tr><td><code>1</code></td><td><code>a</code> <code>=</code> <code>xrange</code><code>(</code><code>0</code><code>,</code><code>100</code><code>)</code></td></tr></tbody></table></div><div><table><tbody><tr><td><code>2</code></td><td><code>print</code> <code>type</code><code>(a)</code></td></tr></tbody></table></div><div><table><tbody><tr><td><code>3</code></td><td><code>print</code> <code>a</code></td></tr></tbody></table></div><div><table><tbody><tr><td><code>4</code></td><td><code>print</code> <code>a[</code><code>0</code><code>], a[</code><code>1</code><code>]</code></td></tr></tbody></table></div><p>输出结果：</p><div><table><tbody><tr><td><code>1</code></td><td><code>&lt;</code><code>type</code> <code>'xrange'</code><code>&gt;</code></td></tr></tbody></table></div><div><table><tbody><tr><td><code>2</code></td><td><code>xrange</code><code>(</code><code>100</code><code>)</code></td></tr></tbody></table></div></div><table><tbody><tr><td><div><code>3</code></div></td><td><code>0</code> <code>1</code></td></tr></tbody></table></span>
</div></body></html> 