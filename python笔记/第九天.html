<html>
<head>
  <title>第九天</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/306387 (zh-CN, DDL); Windows/10.0.0 (Win64);"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="843"/>
<h1>第九天</h1>

<div>
<span><div><a href="第九天_files/1.py"><img src="第九天_files/6b0b80e8b23572a8c69906ac2ae696b1.png" alt="1.py"></a><a href="第九天_files/2.py"><img src="第九天_files/78c5df16d9f5362747bdf0652edc30d6.png" alt="2.py"></a><a href="第九天_files/3.py"><img src="第九天_files/e8493414fdb2e19d5eead8a6c2624148.png" alt="3.py"></a><a href="第九天_files/4.py"><img src="第九天_files/d5f0138ef410e9c2b274b76608d27fdb.png" alt="4.py"></a></div><div style="text-align: center"><b><span style="color: rgb(255, 0, 0);"><span style="font-size: 32px;">类的属性用函数更改查询和类的继承和内存管理，引用模块，引用包</span></span></b></div><div style="text-align: center">#coding:utf-8</div><div style="text-align: center">class People(object):</div><div style="text-align: center">    &quot;&quot;&quot;docstring for People&quot;&quot;&quot;</div><div style="text-align: center">    def __init__(self, age):</div><div style="text-align: center">        # 判断某个对象是不是某种类型,返回bool类型的结果</div><div style="text-align: center">        # isinstance(对象，类型)</div><div style="text-align: center">        # 如果age的值不是整数类型</div><div style="text-align: center">        if not isinstance(age,int):</div><div style="text-align: center">            raise ValueError('age must be an int')</div><div style="text-align: center">        # 如果age小于等于0或者大于120，不符合范围</div><div style="text-align: center">        if age &lt;=0 or age &gt;120:</div><div style="text-align: center">            raise  ValueError('age must be between 0~120')</div><div style="text-align: center">        self.age = age</div><div style="text-align: center"><br/></div><div style="text-align: center">    # 单独写一个函数，专门用来给属性赋值</div><div style="text-align: center">    def set_age(self,age):</div><div style="text-align: center">        if not isinstance(age,int):</div><div style="text-align: center">            raise ValueError('age must be an int')</div><div style="text-align: center">        if age &lt;=0 or age &gt;120:</div><div style="text-align: center">            raise  ValueError('age must be between 0~120')</div><div style="text-align: center">        self.age = age</div><div style="text-align: center">        # 单独写一个函数，专门获取属性值</div><div style="text-align: center">    def get_age(self):</div><div style="text-align: center"><br/></div><div style="text-align: center">        print '执行了get_age函数'</div><div style="text-align: center">        return self.age</div><div style="text-align: center"><br/></div><div style="text-align: center">p_1 = People(3)</div><div style="text-align: center">print p_1.age</div><div style="text-align: center">p_1.age=100</div><div style="text-align: center">print p_1.age</div><div style="text-align: center"># 执行函数设置属性值</div><div style="text-align: center">p_1.set_age(100)</div><div style="text-align: center">print p_1.age</div><div style="text-align: center"># 执行函数获取属性值</div><div style="text-align: center">p_2=p_1.get_age()</div><div style="text-align: center">print p_2</div><div style="text-align: center"><br/></div><div style="text-align: center"><br/></div><div style="text-align: center">class People(object):</div><div style="text-align: center">    &quot;&quot;&quot;docstring for People&quot;&quot;&quot;</div><div style="text-align: center">    # 对象.函数名</div><div style="text-align: center">    # @property 把某个函数转换为属性的调用方式</div><div style="text-align: center">    @property</div><div style="text-align: center">        # 获取属性值的函数</div><div style="text-align: center">    def age(self):</div><div style="text-align: center">        try:</div><div style="text-align: center">            print '执行了@property后的age函数'</div><div style="text-align: center">            return self.__age</div><div style="text-align: center">        except AttributeError, e:</div><div style="text-align: center">            return 0</div><div style="text-align: center">    # 描述信息</div><div style="text-align: center">    # 设置属性值的函数</div><div style="text-align: center">    # 给age属性声明设置属性值的函数</div><div style="text-align: center">    @age.setter</div><div style="text-align: center">    def age(self,value):</div><div style="text-align: center">        if not isinstance(value,int):</div><div style="text-align: center">             raise ValueError('age must be a int value')</div><div style="text-align: center"><br/></div><div style="text-align: center">        if value &lt;= 0 or value &gt; 120:</div><div style="text-align: center">            raise ValueError('age out of range ,range is 0~120')</div><div style="text-align: center">        self.__age  = value</div><div style="text-align: center">p = People()</div><div style="text-align: center">p.age =90</div><div style="text-align: center"><br/></div><div style="text-align: center">p=p.age</div><div style="text-align: center">print p</div><div style="text-align: center"><br/></div><div style="text-align: center">class People(object):</div><div style="text-align: center">    def __init__(self,is_smoking):</div><div style="text-align: center">        # 声明私有属性</div><div style="text-align: center">        self.__is_smoking = is_smoking</div><div style="text-align: center"><br/></div><div style="text-align: center">    # @property 把某个函数转换为属性的调用方式</div><div style="text-align: center">    @property</div><div style="text-align: center">    # 获取__is_smoking属性值的函数</div><div style="text-align: center">    def is_smoking(self):</div><div style="text-align: center">        return self.__is_smoking</div><div style="text-align: center">    # 描述信息</div><div style="text-align: center">    # 设置属性值的函数</div><div style="text-align: center">    # 设置__is_smoking属性值的函数</div><div style="text-align: center">    @is_smoking.setter</div><div style="text-align: center">    def is_smoking(self,value):</div><div style="text-align: center">        if not isinstance(value,bool):</div><div style="text-align: center">            raise ValueError('value must be an bool value')</div><div style="text-align: center">        self.__is_smoking = value</div><div style="text-align: center">        # 除了赋值之外，还可以添加新的功能</div><div style="text-align: center">        if value == True:</div><div style="text-align: center">            print '这个人抽烟'</div><div style="text-align: center">        else:</div><div style="text-align: center">            print '这个人不抽烟'</div><div style="text-align: center"><br/></div><div style="text-align: center"><br/></div><div style="text-align: center">p = People(False)</div><div style="text-align: center"># 对象.属性名 = 值   实际上是执行设置值is_smoking函数设置__is_smoking的值</div><div style="text-align: center">p.is_smoking = True</div><div style="text-align: center"><br/></div><div style="text-align: center">#  XXX = 对象.属性名 实际上是执行获取值的is_smoking函数获取__is_smoking的值</div><div style="text-align: center">isSmoking = p.is_smoking</div><div style="text-align: center"><br/></div><div style="text-align: center"><br/></div><div style="text-align: center"><br/></div><div style="text-align: center">print p.is_smoking</div><div style="text-align: center"><br/></div><div style="text-align: center"><br/></div><div style="text-align: center"><br/></div><div style="text-align: center">#只读属性</div><div style="text-align: center">class People(object):</div><div style="text-align: center">    &quot;&quot;&quot;docstring for People&quot;&quot;&quot;</div><div style="text-align: center">    def __init__(self):</div><div style="text-align: center">        # 私有属性</div><div style="text-align: center">        self.__sex = '男'</div><div style="text-align: center">     # 只读属性</div><div style="text-align: center">    # @property 只写一个获取属性值的函数</div><div style="text-align: center">    @property</div><div style="text-align: center">    def sex(self):</div><div style="text-align: center">        return self.__sex</div><div style="text-align: center">    @sex.setter</div><div style="text-align: center">    def sex(self,value):</div><div style="text-align: center">        # 一旦执行该函数，则触发异常说明这是一个只读属性</div><div style="text-align: center">        raise AttributeError('This Attribute is readonly!')</div><div style="text-align: center">p=People()</div><div style="text-align: center">p.sex='女'</div><div style="text-align: center">print p.sex</div><div style="text-align: center"><br/></div><div style="text-align: center"><br/></div><div style="text-align: center">#coding:utf-8</div><div style="text-align: center"># 什么叫做继承？</div><div style="text-align: center"># 皇帝死了，太子继位</div><div style="text-align: center"># class 类名(父类):</div><div style="text-align: center"># 只是object 指的一个基类（最基础的类）</div><div style="text-align: center">class People(object):</div><div style="text-align: center">    &quot;&quot;&quot;docstring for ClassName&quot;&quot;&quot;</div><div style="text-align: center">    def __init__(self,name,age,sex):</div><div style="text-align: center">        self.name = name</div><div style="text-align: center">        self.age = age</div><div style="text-align: center">        self.sex = sex</div><div style="text-align: center">    def run(self):</div><div style="text-align: center">        print '这是People中的run函数'</div><div style="text-align: center">class Man(People):</div><div style="text-align: center">    &quot;&quot;&quot;docstring for ClassName&quot;&quot;&quot;</div><div style="text-align: center">    # 1.子类继承自父类，子类拥有父类的所有属性和函数</div><div style="text-align: center">    def __init__(self,name,age,sex,g_f):</div><div style="text-align: center">        # super(Man,self).__init__(name,age,sex)</div><div style="text-align: center"><br/></div><div style="text-align: center">        self.g_f=g_f</div><div style="text-align: center">        # 使用类型执行实例函数</div><div style="text-align: center">        People.__init__(self,name,age,sex)</div><div style="text-align: center">        # 2.子类继承自父类，子类可以拥有自己的属性和函数</div><div style="text-align: center">        self.g_f=g_f</div><div style="text-align: center">    def smoking(self):</div><div style="text-align: center">        print '这是Man中的smoking函数'</div><div style="text-align: center"><br/></div><div style="text-align: center">p=People('zhansan',12,1)</div><div style="text-align: center">print p.name,p.age,p.sex</div><div style="text-align: center"># people对象使用run函数</div><div style="text-align: center">p.run()</div><div style="text-align: center"># 3.子类继承自父类，父类不可以使用子类的属性和函数</div><div style="text-align: center"># print p.g_f</div><div style="text-align: center"># p.smoking()</div><div style="text-align: center">m = Man('lisi',33,1,'xiaofang')</div><div style="text-align: center"># 子类可以直接使用父类的函数</div><div style="text-align: center">m.run()</div><div style="text-align: center">m.smoking()</div><div style="text-align: center"># 子类可以直接使用父类的属性</div><div style="text-align: center">print m.name,m.age,m.sex,m.g_f</div><div style="text-align: center"><br/></div><div style="text-align: center"># 总结：</div><div style="text-align: center"># 1.子类继承自父类，子类拥有父类的所有属性和函数</div><div style="text-align: center"># 2.子类继承自父类，子类可以拥有自己的属性和函数</div><div style="text-align: center"># 3.子类继承自父类，父类不可以使用子类的属性和函数</div><div style="text-align: center"># 4.子类继承自父类，子类可以重写父类的函数</div><div style="text-align: center"># 重写函数</div><div style="text-align: center">class People(object):</div><div style="text-align: center">    def __init__(self,weight):</div><div style="text-align: center">        self.weight  = weight</div><div style="text-align: center"><br/></div><div style="text-align: center">    def eat(self):</div><div style="text-align: center">        print '这是People中的eat'</div><div style="text-align: center"><br/></div><div style="text-align: center">    def work_time(self,w_time):</div><div style="text-align: center">        # 工作时间超过8小时小于等于12小时，体重-2斤，时间超过12小时，体重减4斤</div><div style="text-align: center">        if 8&lt;w_time&lt;=12:</div><div style="text-align: center">            self.weight -= 2</div><div style="text-align: center">        elif w_time&gt;12:</div><div style="text-align: center">            self.weight -=4</div><div style="text-align: center">class Women(People):</div><div style="text-align: center">    # 为什么要重写函数？</div><div style="text-align: center">    # 父类中的函数满足不了或者不符合子类的需求</div><div style="text-align: center">     # 1.完全重写，函数内执行的内容，和父类中的函数没有丝毫关系，和父类函数名称相同</div><div style="text-align: center">     def eat(self):</div><div style="text-align: center">        print '这是Man中的eat'</div><div style="text-align: center">     # 2.部分重写,既保留父类函数功能，还可以添加新功能</div><div style="text-align: center">     def work_time(self,w_time):</div><div style="text-align: center">        # 2.1 保留父类函数功能</div><div style="text-align: center">        People.work_time(self,w_time)</div><div style="text-align: center">        print '小芳工作后的体重：',xiao_fang.weight</div><div style="text-align: center">        # 2.2 添加新功能</div><div style="text-align: center">        # 在工作减肥的同时，计算体重是否标准</div><div style="text-align: center">        if self.weight &lt; 90:</div><div style="text-align: center">            print '身材偏瘦，多吃点....'</div><div style="text-align: center">        elif self.weight&lt;=120:</div><div style="text-align: center">            print  '身材标准，继续保持'</div><div style="text-align: center">        else:</div><div style="text-align: center">            print '身材偏胖，少吃点....'</div><div style="text-align: center"># 创建zhangsan对象，体重为200斤</div><div style="text-align: center">zhangsan = People(200)</div><div style="text-align: center"># 工作时间</div><div style="text-align: center">zhangsan.work_time(13)</div><div style="text-align: center"># 工作过后的体重</div><div style="text-align: center">print '工作后的体重：',zhangsan.weight</div><div style="text-align: center">xiao_fang = Women(150)</div><div style="text-align: center">print xiao_fang.weight</div><div style="text-align: center">xiao_fang.work_time(13)</div><div style="text-align: center"><br/></div><div style="text-align: center"><br/></div><div style="text-align: center"># 两种类型</div><div style="text-align: center"># 鸟类</div><div style="text-align: center">class Bird(object):</div><div style="text-align: center">    &quot;&quot;&quot;docstring for ClassName&quot;&quot;&quot;</div><div style="text-align: center">    def fly(self):</div><div style="text-align: center">        print 'Bird类中的fly 函数执行了'</div><div style="text-align: center"># 水栖类</div><div style="text-align: center">class Aquatic_s(object):</div><div style="text-align: center">    def swimming(self):</div><div style="text-align: center">        print 'Aquatic_s类的swimming 函数执行了'</div><div style="text-align: center"># 天鹅类继承自Bird和Aquatic_s类的# Bird和Aquatic_s两个类中的所有属性和函数，该类型的对象都可使用</div><div style="text-align: center"># python中是有多继承,继承关系不要有太多的单一继承</div><div style="text-align: center">class Swan(Bird,Aquatic_s):</div><div style="text-align: center">    pass</div><div style="text-align: center"><br/></div><div style="text-align: center">swan = Swan()</div><div style="text-align: center">print swan</div><div style="text-align: center"># swan对象 可以使用Bird中的fly函数</div><div style="text-align: center"># swan对象 可以使用Aquatic_s中的swimming函数</div><div style="text-align: center">swan.fly()</div><div style="text-align: center">swan.swimming()</div><div style="text-align: center">#子类可以直接调用父类的函数和使用属性</div><div style="text-align: center"><br/></div><div style="text-align: center"><br/></div><div style="text-align: center"><br/></div><div style="text-align: center">#coding:utf-8</div><div style="text-align: center">#内存管理</div><div style="text-align: center">'''</div><div style="text-align: center">    创建一个对象，实际上是在内存中开辟了一块空间来存放这个对象</div><div style="text-align: center"><br/></div><div style="text-align: center">'''</div><div style="text-align: center">class People(object):</div><div style="text-align: center">    &quot;&quot;&quot;docstring for People&quot;&quot;&quot;</div><div style="text-align: center">    def __init__(self):</div><div style="text-align: center">        print 'People对象创建了'</div><div style="text-align: center">    # 对象被移除的时候执行该函数</div><div style="text-align: center">    def __del__(self):</div><div style="text-align: center">        print 'People对象被删除了'</div><div style="text-align: center">#引用计数：当一个对象被创建出来的时候，它的引用计数为1，当对象a引用该对象时，引用计数会+1，当对象a不再引用该对象时，引用计数-1，当对象的引用计数为0时，系统会在合适的时候将其从内存中抹除，</div><div style="text-align: center">#（当对象不再使用时，创建时的引用计数会被系统减掉）</div><div style="text-align: center">p = People()</div><div style="text-align: center"><br/></div><div style="text-align: center">p_1 = p</div><div style="text-align: center"><br/></div><div style="text-align: center">del p</div><div style="text-align: center"><br/></div><div style="text-align: center">print '删除p后的代码'</div><div style="text-align: center"><br/></div><div style="text-align: center">def test():</div><div style="text-align: center">    p = People()</div><div style="text-align: center">    p.name = 'zhangsan'</div><div style="text-align: center">    print '3'</div><div style="text-align: center">    p.name = 'lisi'</div><div style="text-align: center"><br/></div><div style="text-align: center">print '1'</div><div style="text-align: center">test()</div><div style="text-align: center">print '2'</div><div style="text-align: center"><br/></div><div style="text-align: center"><br/></div><div style="text-align: center"><br/></div><div style="text-align: center">#coding:utf-8</div><div style="text-align: center">#引用的模块一定要和执行模块的程序放在一个而文件夹里，否则会报错</div><div style="text-align: center"># 1.引入模块(模块&lt;==&gt;文件)</div><div style="text-align: center">import test</div><div style="text-align: center"># 1.第一种引入的调用方式：模块名.函数名</div><div style="text-align: center">test.eat()</div><div style="text-align: center">test.People.class_test()</div><div style="text-align: center">#2.从test模块中引入eat函数</div><div style="text-align: center">from test import eat</div><div style="text-align: center">from test import People</div><div style="text-align: center">#2.第二种引入的调用方式：函数名</div><div style="text-align: center">eat()</div><div style="text-align: center">People.class_test()</div><div style="text-align: center"><br/></div><div style="text-align: center"><br/></div><div style="text-align: center"><br/></div><div style="text-align: center"><br/></div><div style="text-align: center"># 引入一个包，这个包相当于一个文件夹，该文件夹中有个叫做__init__.py的文件，在这个文件中引入了其他文件</div><div style="text-align: center">#注意:调用包的程序和包必须放在一个文件夹里</div><div style="text-align: center">import test_dir</div><div style="text-align: center">#引入test_dir包后立即自动调用了__init__.py文件，等于__init__.py文件里所有引用的的模块都可以被引用。</div><div style="text-align: center">#例如：这是第一种调用包里的模块或者说是函数的方法：</div><div style="text-align: center">test_dir.name.name_test()</div><div style="text-align: center">test_dir.phone.phone_test()</div><div style="text-align: center">test_dir.test_1.eat_1.eat_1_test()</div><div style="text-align: center">test_dir.test_1.drink.drink_test()</div><div style="text-align: center"># as:给引入的模块或者类型起一个其他的名称，以后写代码再使用时可以直接使用别名</div><div style="text-align: center">#这是第二种调用包里的模块或者函数的方法：</div><div style="text-align: center">from test_dir import age as A</div><div style="text-align: center">A.age_test()</div><div style="text-align: center"><br/></div><div style="text-align: center"><br/></div></span>
</div></body></html> 